<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Detalle Caso</title>
</head>
<body>

  <h1>Detalle del Caso</h1>
  <div id="case-info">
    Cargando...
  </div>

  <script>
    // Función para obtener parámetros URL
    function getQueryParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param);
    }

    const caseId = getQueryParam('caseId');

    fetch('case.json')
      .then(res => res.json())
      .then(data => {
        // data es un array o un objeto con casos, busca el que coincida con caseId
        const caso = data.find(c => c.numero === caseId);
        const container = document.getElementById('case-info');

        if (caso) {
          container.innerHTML = `
            <p><strong>No. Caso:</strong> ${caso.numero}</p>
            <p><strong>Asunto:</strong> ${caso.asunto}</p>
            <p><strong>Fecha de registro:</strong> ${caso.fechaRegistro}</p>
            <p><strong>Estado:</strong> ${caso.estado}</p>
            <p><strong>Cliente:</strong> ${caso.cliente}</p>
            <p><strong>Categoría:</strong> ${caso.categoria}</p>
            <p><strong>Servicio:</strong> ${caso.servicio}</p>
            <p><strong>Responsable:</strong> ${caso.responsable}</p>
            <p><strong>Autor:</strong> ${caso.autor}</p>
            <p><strong>Razón:</strong> ${caso.razon}</p>
            <p><strong>Prioridad:</strong> ${caso.prioridad}</p>
            <p><strong>Fecha estimada de solución:</strong> ${caso.fechaEstimada}</p>
          `;
        } else {
          container.textContent = 'Caso no encontrado';
        }
      })
      .catch(err => {
        console.error(err);
        document.getElementById('case-info').textContent = 'Error cargando el caso';
      });
  </script>

</body>
</html>
